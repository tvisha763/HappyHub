{% extends 'main.html' %}

{% block title %}Group Chat{% endblock %}
{% block content %}
{% for message in messages %}
<div class="alert mt-3 alert-warning alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
    <h1>{{group.name}}</h1>
    <p>{{group.description}}</p>
    <h3>Members: {{number}}</h3>
    <ul>
        {% for m in members %}
            <li>{{m.user.username}}</li>
        {% endfor %}
    </ul>

    <form action="{% url 'groupChat' id.id %}" method="post">
        {% csrf_token %}
        <!-- <input type="hidden"  value="{{book_looked_up.id}}" name="bookToComment" id="bookToComment"> -->
        <textarea type="text" placeholder="Type your opinion here" name="message"></textarea>
        </br>
        <button type="submit">Post</button>
    </form>

    {% for c in chat %}
                    
        <strong>
            {{ c.user.username }} - 
            {{ c.date }}
        </strong>
        <br/>
        {{ c.message }}
        <!-- <br/> -->
        <hr>
                      
                    
    {% endfor %}
    <form action="{% url 'leaveGroup' %}" method="post" id="join">
        {% csrf_token %}
        <input type="hidden" name="group" value="{{group.name}}">
        <button type = "submit">Leave</button>
    </form>
{% endblock %}